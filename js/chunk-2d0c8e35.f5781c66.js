(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8e35"],{5796:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",[t("v-card-text",[t("v-card-title",[e._v(" "+e._s(e.$route.meta.pageTitle)+" "),t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(n){e.search=n},expression:"search"}})],1),t("v-data-table",{attrs:{loading:e.loading,headers:e.headers,items:e.banners,search:e.search},scopedSlots:e._u([{key:"item.url_imagen",fn:function(e){var n=e.item;return[t("v-avatar",{attrs:{size:"36px"}},[t("img",{attrs:{alt:"Avatar",src:n.url_imagen}})])]}},{key:"item.actions",fn:function(n){var a=n.item;return[t("div",{staticClass:"d-flex"},[t("v-btn",{attrs:{small:"",fab:"",text:""},on:{click:function(n){return e.editRecord(a)}}},[t("v-icon",[e._v("mdi-playlist-edit")])],1),t("v-btn",{attrs:{small:"",fab:"",text:""},on:{click:function(n){return e.confirmDeleteRecord(a.idbanner)}}},[t("v-icon",[e._v("mdi-delete")])],1)],1)]}}])})],1),t("v-btn",{attrs:{bottom:"",color:"success",dark:"",small:"",fab:"",fixed:"",right:""},on:{click:function(n){return e.handlePrompt()}}},[t("v-icon",[e._v("mdi-plus")])],1),t("v-dialog",{model:{value:e.activePrompt,callback:function(n){e.activePrompt=n},expression:"activePrompt"}},[e.editing?t("banner-edit",{attrs:{banner:e.bannerToEdit},on:{closePrompt:function(n){return e.close()}}}):t("banner-create",{on:{closePrompt:function(n){return e.close()}}})],1)],1)},r=[],i=t("5530"),c=t("2f62"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",{attrs:{loading:e.loading}},[t("v-card-title",[e._v(" Formulario de banner ")]),t("v-card-text",[t("v-textarea",{attrs:{outlined:"",dense:"",label:"Descripción"},model:{value:e.banner.descripcion,callback:function(n){e.$set(e.banner,"descripcion",n)},expression:"banner.descripcion"}}),t("v-text-field",{staticStyle:{"max-width":"300px"},attrs:{outlined:"",dense:"",type:"number",label:"Precio",placeholder:"Precio"},model:{value:e.banner.precio,callback:function(n){e.$set(e.banner,"precio",n)},expression:"banner.precio"}}),t("br"),t("div",{staticClass:"imagen-input"},[t("span",{staticClass:"d-block"},[t("small",{attrs:{for:""}},[e._v("Imagen de referencia")])]),t("v-image-input",{attrs:{"image-quality":.85,clearable:"","image-format":"jpeg",uploadIcon:"mdi-upload",clearIcon:"mdi-trash-can-outline",imageMinScaling:"contain",overlayPadding:"3px",imageHeight:190,fullWidth:""},model:{value:e.banner.url_imagen,callback:function(n){e.$set(e.banner,"url_imagen",n)},expression:"banner.url_imagen"}})],1),t("br"),t("div",{staticClass:"d-flex justify-end"},[t("v-btn",{staticClass:"mr-2",attrs:{color:"danger"},on:{click:function(n){return e.cancel()}}},[e._v("Cancelar")]),t("v-btn",{attrs:{color:"success"},on:{click:function(n){return e.saveBanner()}}},[e._v("Guardar")])],1)],1)],1)},l=[],s=t("e032"),u=t.n(s),d={components:{VImageInput:u.a},data:function(){return{banner:{},loading:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({addBanner:"banner/addBanner"})),{},{saveBanner:function(){var e=this;this.loading=!0,this.addBanner(this.banner).then((function(){e.$swal("Exito!","Banner guardado","success"),e.$emit("closePrompt")})).catch((function(){e.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return e.loading=!1}))},cancel:function(){this.$emit("closePrompt")}})},m=d,b=t("2877"),p=Object(b["a"])(m,o,l,!1,null,null,null),v=p.exports,f=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",{attrs:{loading:e.loading}},[t("v-card-title",[e._v(" Formulario de banner ")]),t("v-card-text",[t("v-textarea",{attrs:{outlined:"",dense:"",label:"Descripción"},model:{value:e.banner.descripcion,callback:function(n){e.$set(e.banner,"descripcion",n)},expression:"banner.descripcion"}}),t("v-text-field",{attrs:{outlined:"",dense:"",type:"number",label:"Precio",placeholder:"Precio"},model:{value:e.banner.precio,callback:function(n){e.$set(e.banner,"precio",n)},expression:"banner.precio"}}),t("br"),t("div",{staticClass:"imagen-input"},[t("span",{staticClass:"d-block"},[t("small",{attrs:{for:""}},[e._v("Imagen de referencia")])]),t("v-image-input",{attrs:{"image-quality":.85,clearable:"","image-format":"jpeg",uploadIcon:"mdi-upload",clearIcon:"mdi-trash-can-outline",imageMinScaling:"contain",overlayPadding:"3px",imageHeight:190,fullWidth:""},model:{value:e.banner.url_imagen,callback:function(n){e.$set(e.banner,"url_imagen",n)},expression:"banner.url_imagen"}})],1),t("br"),t("div",{staticClass:"d-flex justify-end"},[t("v-btn",{staticClass:"mr-2",attrs:{color:"danger"},on:{click:function(n){return e.cancel()}}},[e._v("Cancelar")]),t("v-btn",{attrs:{color:"success"},on:{click:function(n){return e.saveBanner()}}},[e._v("Guardar")])],1)],1)],1)},h=[],g={components:{VImageInput:u.a},props:{banner:{type:Object}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({updateBanner:"banner/updateBanner"})),{},{saveBanner:function(){var e=this;this.updateBanner(this.banner).then((function(){e.$swal("Exito!","Banner actualizado","success"),e.$emit("closePrompt")})).catch((function(){e.$swal("Alerta!","Ha ocurrido un error","error")}))},cancel:function(){this.$emit("closePrompt")}})},x=g,_=Object(b["a"])(x,f,h,!1,null,null,null),B=_.exports,k={components:{BannerCreate:v,BannerEdit:B},data:function(){return{banner:{},bannerToEdit:{},activePrompt:!1,showModal:!0,editing:!1,loading:!1,search:"",headers:[{text:"Descripcion",value:"descripcion"},{text:"Precio",value:"precio"},{text:"Imagen",value:"url_imagen"},{text:"Acciones",value:"actions"}]}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({fetchBanners:"banner/fetchBanners",removeBanner:"banner/removeBanner"})),{},{cancel:function(){this.banner={url_imagen:null}},handlePrompt:function(e){this.activePrompt=!0,e&&(this.banner={})},close:function(){this.activePrompt=!1,this.banner={},this.editing=!1},editRecord:function(e){this.editing=!0,this.bannerToEdit=Object(i["a"])({},e),this.activePrompt=!0},confirmDeleteRecord:function(e){var n=this;this.$swal({title:"¿Esta seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar"}).then((function(t){t.value&&(n.loading=!0,n.removeBanner(e).then((function(){n.$swal("Borrado!","Su registro ha sido borrado","success"),n.$emit("closePrompt")})).catch((function(){n.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return n.loading=!1})))}))}}),created:function(){var e=this;this.loading=!0,this.fetchBanners().catch((function(){e.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return e.loading=!1}))},computed:Object(i["a"])({},Object(c["c"])({banners:function(e){return e.banner.banners}}))},P=k,$=Object(b["a"])(P,a,r,!1,null,null,null);n["default"]=$.exports}}]);
//# sourceMappingURL=chunk-2d0c8e35.f5781c66.js.map