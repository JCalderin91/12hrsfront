(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5d4c"],{"1b27":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"p-4 sm:p-2",attrs:{lg:"12",sm:"12",xs:"12"}},[a("div",[a("div",{staticClass:"d-flex justify-between"},[a("h4",[t._v("Lista de categorias")])]),a("v-data-table",{attrs:{loading:t.loading,headers:t.headers,items:t.categories,search:t.search},scopedSlots:t._u([{key:"item.url_imagen",fn:function(t){var e=t.item;return[a("v-avatar",{attrs:{size:"36px"}},[a("img",{attrs:{alt:"Avatar",src:e.url_imagen}})])]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"d-flex"},[a("v-btn",{attrs:{small:"",fab:"",text:""},on:{click:function(e){return t.editRecord(r)}}},[a("v-icon",[t._v("mdi-playlist-edit")])],1),a("v-btn",{attrs:{small:"",fab:"",text:""},on:{click:function(e){return t.confirmDeleteRecord(r.idcategoria)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)]}}])})],1)])],1)],1),a("v-btn",{attrs:{bottom:"",color:"success",dark:"",small:"",fab:"",fixed:"",right:""},on:{click:function(e){return t.handlePrompt()}}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-dialog",{model:{value:t.activePrompt,callback:function(e){t.activePrompt=e},expression:"activePrompt"}},[t.editing?a("category-edit",{attrs:{category:t.categoryToEdit},on:{closePrompt:function(e){return t.close()}}}):a("category-create",{on:{closePrompt:function(e){return t.close()}}})],1)],1)},o=[],n=a("5530"),c=a("2f62"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",[t._v("Formulario de categorias")]),a("v-card-text",[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Titulo",placeholder:"Titulo"},model:{value:t.category.titulo,callback:function(e){t.$set(t.category,"titulo",e)},expression:"category.titulo"}}),a("v-text-field",{attrs:{outlined:"",dense:"",type:"number",label:"Orden",placeholder:"Orden"},model:{value:t.category.orden,callback:function(e){t.$set(t.category,"orden",e)},expression:"category.orden"}}),a("br"),a("div",{staticClass:"imagen-input"},[a("span",{staticClass:"d-block"},[a("small",{attrs:{for:""}},[t._v("Imagen de referencia")])]),a("v-image-input",{attrs:{"image-quality":.85,clearable:"","image-format":"jpeg",uploadIcon:"mdi-upload",clearIcon:"mdi-trash-can-outline",imageMinScaling:"contain",overlayPadding:"3px",imageHeight:190,fullWidth:""},model:{value:t.category.url_imagen,callback:function(e){t.$set(t.category,"url_imagen",e)},expression:"category.url_imagen"}})],1),a("br"),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"danger"},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.saveCategory()}}},[t._v("Guardar")])],1)],1)],1)},l=[],s=a("e032"),u=a.n(s),d={components:{VImageInput:u.a},data:function(){return{loading:!1,category:{}}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])({addCategory:"category/addCategory"})),{},{saveCategory:function(){var t=this;this.loading=!0,this.addCategory(this.category).then((function(){t.$swal("Exito!","Producto actualizado","success"),t.$emit("closePrompt")})).catch((function(){t.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return t.loading=!0}))}})},g=d,m=a("2877"),v=Object(m["a"])(g,i,l,!1,null,null,null),f=v.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.loading}},[a("v-card-title",[t._v("Formulario de categorias")]),a("v-card-text",[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Titulo",placeholder:"Titulo"},model:{value:t.category.titulo,callback:function(e){t.$set(t.category,"titulo",e)},expression:"category.titulo"}}),a("v-text-field",{attrs:{outlined:"",dense:"",type:"number",label:"Orden",placeholder:"Orden"},model:{value:t.category.orden,callback:function(e){t.$set(t.category,"orden",e)},expression:"category.orden"}}),a("br"),a("div",{staticClass:"imagen-input"},[a("span",{staticClass:"d-block"},[a("small",{attrs:{for:""}},[t._v("Imagen de referencia")])]),a("v-image-input",{attrs:{"image-quality":.85,clearable:"","image-format":"jpeg",uploadIcon:"mdi-upload",clearIcon:"mdi-trash-can-outline",imageMinScaling:"contain",overlayPadding:"3px",imageHeight:190,fullWidth:""},model:{value:t.category.url_imagen,callback:function(e){t.$set(t.category,"url_imagen",e)},expression:"category.url_imagen"}})],1),a("br"),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"danger"},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.saveCategory()}}},[t._v("Guardar")])],1)],1)],1)},p=[],y={components:{VImageInput:u.a},props:{category:{type:Object}},data:function(){return{loading:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])({updateCategory:"category/updateCategory"})),{},{saveCategory:function(){var t=this;this.loading=!0,this.updateCategory(this.category).then((function(){t.$swal("Exito!","Categoria guardada","success"),t.$emit("closePrompt")})).catch((function(){t.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return t.loading=!0}))}})},b=y,x=Object(m["a"])(b,h,p,!1,null,null,null),C=x.exports,_={components:{CategoryCreate:f,CategoryEdit:C},data:function(){return{category:{},categoryToEdit:{},activePrompt:!1,showModal:!0,editing:!1,loading:!1,search:"",headers:[{text:"Orden",value:"orden"},{text:"Titulo",value:"titulo"},{text:"Imagen",value:"url_imagen"},{text:"Acciones",value:"actions"}]}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])({fetchCategories:"category/fetchCategories",removeCategory:"category/removeCategory"})),{},{cancel:function(){this.category={url_imagen:null}},handlePrompt:function(t){this.activePrompt=!0,t&&(this.category={})},close:function(){this.activePrompt=!1,this.category={},this.editing=!1},editRecord:function(t){this.editing=!0,this.categoryToEdit=Object(n["a"])({},t),this.activePrompt=!0},confirmDeleteRecord:function(t){var e=this;this.$swal({title:"¿Esta seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar"}).then((function(a){a.value&&(e.loading=!0,e.removeCategory(t).then((function(){e.$swal("Borrado!","Su registro ha sido borrado","success"),e.$emit("closePrompt")})).catch((function(){e.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return e.loading=!1})))}))}}),created:function(){var t=this;this.loading=!0,this.fetchCategories().catch((function(){t.$swal("Alerta!","Ha ocurrido un error","error")})).then((function(){return t.loading=!1}))},computed:Object(n["a"])({},Object(c["c"])({categories:function(t){return t.category.categories}}))},k=_,j=Object(m["a"])(k,r,o,!1,null,null,null);e["default"]=j.exports}}]);
//# sourceMappingURL=chunk-2d0b5d4c.0b951bf0.js.map